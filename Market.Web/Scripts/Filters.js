function CreateFilters(ranks){var label,hidden,hidden2;var select;var div;var mainDiv=$("#filter-item");mainDiv.empty();for(var rank in ranks){div=$("<div></div>");div.addClass("image-select");div.addClass("form-group");select=$("<select class='selsel' id='filterItemValues' name='FilterItemValues'></select>");var defaultOption=$('<option>'+ranks[rank].Name+'</option>').val('empty');hidden2=$('<input type="hidden" class="selselsel" id="filters" name="FilterValues">').val(ranks[rank].Value);select.append(defaultOption);for(var item in ranks[rank].FilterItems){var option=$('<option></option>').val(ranks[rank].FilterItems[item].Value).text(ranks[rank].FilterItems[item].Name);select.append(option);}div.append(select);div.append(hidden2);mainDiv.append(div);}}function SelectFilterItem(g,isListView){myfunction();}function SelectFilterItemInCreate(g){$.ajax({url:"/FilterItem/GetFiltersForGameJson",contentType:"application/json",type:"POST",data:JSON.stringify({game:g}),dataType:"json",beforeSend:function(){},success:function(ranks){CreateFilters(ranks);myfunction();},async:false,error:function(){}});}function myfunction(){var x,i,j,selElmnt,a,b,c,span;x=document.getElementsByClassName("image-select");for(i=0;i<x.length;i++){selElmnt=x[i].getElementsByTagName("select")[0];a=document.createElement("DIV");a.setAttribute("class","select-selected");a.innerHTML=selElmnt.options[selElmnt.selectedIndex].innerHTML;x[i].appendChild(a);b=document.createElement("DIV");b.setAttribute("class","select-items select-hide");for(j=1;j<selElmnt.length;j++){span=document.createElement("IMG");var urlImg=selElmnt.options[j].dataset.url;span.setAttribute("src",urlImg)
span.setAttribute("alt","")
span.style.width="50px";span.style.marginRight="15px";c=document.createElement("DIV");c.innerHTML+=selElmnt.options[j].innerHTML;c.addEventListener("click",function(e){var i,s,h;s=this.parentNode.parentNode.getElementsByTagName("select")[0];h=this.parentNode.previousSibling;for(i=0;i<s.length;i++){if(s.options[i].innerText.trim()===this.innerText.trim()){s.selectedIndex=i;h.innerHTML=this.innerHTML;break;}}h.click();});b.appendChild(c);}x[i].appendChild(b);a.addEventListener("click",function(e){e.stopPropagation();closeAllSelect(this);this.nextSibling.classList.toggle("select-hide");this.classList.toggle("select-arrow-active");});}document.addEventListener("click",closeAllSelect);}function closeAllSelect(elmnt){var x,y,i,arrNo=[];x=document.getElementsByClassName("select-items");y=document.getElementsByClassName("select-selected");for(i=0;i<y.length;i++){if(elmnt===y[i]){arrNo.push(i)}else{y[i].classList.remove("select-arrow-active");}}for(i=0;i<x.length;i++){if(arrNo.indexOf(i)){x[i].classList.add("select-hide");}}}