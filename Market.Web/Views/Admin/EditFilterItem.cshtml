@model Market.Web.ViewModels.EditFilterItemViewModel

@{
    ViewBag.Title = "EditGame";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

@using (Html.BeginForm("EditFilterItem", "Admin",
        FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.HiddenFor(m => m.Id)
    <div class="form-group">
        <label class="control-label">Полное название фильтры</label>
        @Html.EditorFor(m => m.Name, new { @class = "form-control" })
    </div>
    <div class="form-group">
        <label class="control-label">Значение (сокращенное название)</label>
        @Html.EditorFor(m => m.Value, new { @class = "form-control" })
    </div>
    <div class="form-group">
        <label class="control-label">Порядковый номер</label>
        @Html.EditorFor(m => m.Rank, new { @class = "form-control" })
    </div>
    <div class="form-group">
        <label class="control-label">Фильтр</label>
        @Html.DropDownListFor(m => m.FilterValue, Model.Filters)
    </div>
    <div class="form-group">
        <div style="position:relative;">
            <label>Картинка</label>
            <img id="blah" src="@Model.ImagePath" alt="your image" />
            <a class='btn' href='javascript:;'>
                <input type="file" name="Image" size="40" class="form-control-file" onchange='readURL(this)'>
            </a>

        </div>

    </div>
    <div class="panel-footer">
        <input type="submit" value="Сохранить" class="btn btn-primary" />
    </div>
}

@section scripts
{
    <script>
        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    $('#blah').attr('src', e.target.result);
                }
                reader.readAsDataURL(input.files[0]);
            }
        }
        function DrowImage() {
            $('#upload-file-info').text($(this).val());
        }
    </script>
}